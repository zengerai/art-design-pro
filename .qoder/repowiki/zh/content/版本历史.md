# 版本历史

<cite>
**本文档引用的文件**
- [CHANGELOG.md](file://CHANGELOG.md)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md)
- [package.json](file://package.json)
- [README.md](file://README.md)
- [README.zh-CN.md](file://README.zh-CN.md)
- [src/mock/upgrade/changeLog.ts](file://src/mock/upgrade/changeLog.ts)
- [scripts/clean-dev.ts](file://scripts/clean-dev.ts)
- [src/views/change/log/index.vue](file://src/views/change/log/index.vue)
</cite>

## 目录
1. [简介](#简介)
2. [版本号命名规则](#版本号命名规则)
3. [版本发布周期](#版本发布周期)
4. [主要版本历史](#主要版本历史)
5. [版本升级指南](#版本升级指南)
6. [长期支持策略](#长期支持策略)
7. [版本选择建议](#版本选择建议)
8. [变更日志管理](#变更日志管理)
9. [版本兼容性](#版本兼容性)
10. [故障排除](#故障排除)

## 简介

Art Design Pro 是一款兼具设计美学与高效开发的后台系统模板，致力于帮助开发者快速构建专业级应用。该项目采用现代化的技术栈，持续优化和扩展，确保长期稳定性和扩展性。

本项目严格遵循语义化版本控制（Semantic Versioning）规范，为开发者提供清晰的版本演进路径和可靠的升级指南。

## 版本号命名规则

### 语义化版本控制规范

本项目遵循 [语义化版本 2.0.0](https://semver.org/spec/v2.0.0.html) 规范：

- **主版本号（Major）**：当你做了不兼容的 API 修改
- **次版本号（Minor）**：当你做了向下兼容的功能性新增
- **修订号（Patch）**：当你做了向下兼容的问题修正

### 版本号格式

```
主版本号.次版本号.修订号[-预发布标识][+构建元数据]
```

**示例：**
- `v3.0.1` - 主版本 3，次版本 0，修订版本 1
- `v2.6.1` - 主版本 2，次版本 6，修订版本 1
- `v2.5.0` - 主版本 2，次版本 5，修订版本 0

### 版本类型标识

- 🎉 **重大更新**：包含重要新特性的版本
- ⚠️ **破坏性变更**：需要特别注意的不兼容更新
- 🔒 **安全更新**：修复安全漏洞的版本

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L612-L637)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L612-L637)

## 版本发布周期

### 发布频率

- **主版本**：每年发布 1-2 次，包含重大功能更新和架构重构
- **次版本**：每季度发布 2-4 次，添加新功能和改进
- **修订版本**：每月发布 3-6 次，修复 bug 和性能优化

### 发布流程

1. **需求收集**：通过社区反馈和内部规划确定版本需求
2. **设计评审**：进行技术设计和架构评估
3. **开发测试**：完成功能开发和全面测试
4. **文档更新**：更新相关文档和示例代码
5. **发布准备**：进行最终验证和发布准备工作
6. **正式发布**：通过官方渠道发布新版本

## 主要版本历史

### v3.0.1 - 2025-11-15

**重要提示**：此版本需要重新登录

#### 修复内容
- 修复路由注册时不存在接口的重复请求问题
- 修复一键精简脚本打包失败的问题

#### 优化内容
- 完善路由配置验证机制
- 优化顶部进度条残影问题
- 优化 vite 预构建配置
- 重新设计锁屏页面，提升视觉体验

#### 新增功能
- ArtForm 和 ArtSearchBar 组件支持自定义渲染函数
- 菜单管理表单新增 Tooltip 提示
- Iconify 新增离线图标加载模式
- WebSocket 连接示例

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L9-L42)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L9-L42)

### v3.0.0 - 2025-11-09 🎉

**重要提示**：本次升级涉及样式系统（Sass → Tailwind CSS）与图标库（Iconfont → Iconify）的底层重构，属于破坏性更新。建议新项目直接使用 v3.0，旧版本项目不建议升级。

#### 重构内容
- 样式系统重构：Sass 全面迁移至 Tailwind CSS
- 图标方案升级：Iconfont 替换为 Iconify
- 路由注册重构：面向对象设计
- ArtTextScroll 组件重构
- 颜色体系重构

#### 优化内容
- 构建优化：完整包体积减少 1.3 MB
- 架构优化：目录结构职责划分更清晰
- 注释优化：统一模块注释规范
- 性能提升：核心代码逻辑优化
- 响应式优化：ArtForm、ArtSearchBar 栅格布局

#### 新增功能
- ArtForm、ArtSearchBar 新增 render 属性
- useTable hooks 新增 visible 属性
- 节日功能增强：礼花配置支持跨日期范围设置

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L44-L81)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L44-L81)

### v2.6.1 - 2025-10-19

**重要提示**：此版本需要重新登录

#### 修复内容
- 修复获取用户信息接口重复调用问题
- 修复 ElButton circle 模式样式
- 修复 ElSelect 键盘选择问题

#### 优化内容
- 升级部分依赖兼容 tailwindcss
- 优化外部链接菜单点击状态
- 授权页增加主题色切换功能

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L83-L98)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L83-L98)

### v2.6.0 - 2025-10-16

**重要提示**：此版本需要重新登录

#### 新增功能
- 扩展注册、密码重置页面顶部组件支持

#### 优化内容
- 优化精简版本菜单数据结构
- 优化本地开发环境网络请求代理
- 优化 ElTree 组件默认样式
- 优化 ElDropdown 组件交互样式

#### 修复内容
- 修复静态路由自定义首页路径问题
- 修复退出登录短暂跳转问题

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L100-L128)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L100-L128)

### v2.5.9 - 2025-10-12

#### 优化内容
- views 文件目录、文件名、代码优化
- useTable 分页请求字段全局配置
- 路由配置模块化结构
- 菜单接口使用 apifox mock 数据

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L130-L139)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L130-L139)

### v2.5.8 - 2025-09-29

**重要提示**：由于项目依赖升级，node 版本需要升级到 v20.19.0 或以上

#### 优化内容
- 优化 el-tag 样式
- 优化顶部进度条颜色
- 优化自定义主题配置

#### 修复内容
- 修复富文本编辑器全屏层级问题
- 修复表格列排序文字溢出问题
- 修复无限重定向问题

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L141-L165)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L141-L165)

### v2.5.7 - 2025-09-14

#### 新增功能
- 新增 ArtForm 组件

#### 修复内容
- 修复新版本谷歌浏览器主题切换闪烁问题

#### 优化内容
- 优化表单 label 对齐问题
- 首屏启动性能优化

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L167-L182)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L167-L182)

### v2.5.6 - 2025-09-06

#### 新增功能
- ArtTableHeader 新增搜索按钮
- 权限演示示例
- 全局错误处理框架

#### 优化内容
- useTable 类型推导优化
- ArtTable 分页组件样式优化
- 全局组件异步加载策略

#### 修复内容
- 修复批量删除数据问题
- 修复动态路由参数问题

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L184-L222)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L184-L222)

### v2.5.5 - 2025-08-17

#### 重构内容
- ArtSearchBar 组件重构

#### 优化内容
- useTable 列配置支持动态更新
- 优化颜色选择器圆角
- ArtStatsCard 新增配置选项

#### 修复内容
- 修复富文本编辑器图标不统一问题
- 修复 useTable 删除数据问题
- 修复 echarts 图表数据问题

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L224-L261)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L224-L261)

### v2.5.4 - 2025-07-27

#### 新增功能
- 网络请求 headers 支持自定义配置
- 展开行支持 formatter 渲染

#### 修复内容
- 修复用户信息接口时序问题
- 修复动态路由校验问题

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L263-L282)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L263-L282)

### v2.5.3 - 2025-07-20

#### 重构内容
- ArtTable 组件重构

#### 优化内容
- 优化 useTable 分页参数
- 优化搜索日期范围处理
- 优化 el-date-picker 圆角

#### 修复内容
- 修复 ArtTable 分页大小切换问题

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L284-L313)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L284-L313)

### v2.5.2 - 2025-07-13

#### 新增功能
- 一键精简脚本
- useTable hooks 支持分页字段映射
- 多种菜单支持徽章显示

#### 优化内容
- 全局事件总线类型安全优化
- 移动端设置容器宽度优化

#### 修复内容
- 修复表格无数据表头显示问题
- 修复左侧菜单遮罩显示问题

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L315-L342)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L315-L342)

### v2.5.1 - 2025-07-08

#### 优化内容
- el-card、el-table 背景色统一

#### 修复内容
- 修复首次登录 loading 提前关闭问题
- 修复全屏页样式层级问题

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L344-L356)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L344-L356)

### v2.5.0 - 2025-07-06 🎉

**重要提示**：建议升级，带来更高效、更智能的表格开发体验

#### 新增功能
- useTable hooks 表格封装

#### 重构内容
- ArtTable、ArtTableHeader、ArtNotification 组件重构

#### 优化内容
- Echarts 版本升级到 5.6.0
- CountTo 插件替换为 ArtCountTo 组件

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L358-L385)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L358-L385)

## 版本升级指南

### 升级前准备

#### 1. 备份当前项目
```bash
# 创建备份目录
mkdir backup-art-design-pro-$(date +%Y%m%d)

# 备份关键文件
cp -r src/ backup-art-design-pro-$(date +%Y%m%d)/
cp package.json backup-art-design-pro-$(date +%Y%m%d)/
```

#### 2. 检查当前版本
```bash
# 查看当前版本
cat package.json | grep '"version"'
```

#### 3. 检查 Node.js 版本要求
```bash
# 检查 Node.js 版本
node --version

# 检查 pnpm 版本
pnpm --version
```

### 主版本升级（Major Version）

#### v2.x 到 v3.0.0 升级

**⚠️ 重要警告**：此升级涉及重大重构，属于破坏性更新。

##### 升级步骤

1. **备份项目**
```bash
# 创建备份
git clone . backup-v2-to-v3
```

2. **更新依赖**
```bash
# 更新 package.json 中的版本号
# 将 version: "0.0.0" 更新为 "3.0.0"

# 安装新依赖
pnpm install
```

3. **样式系统迁移**
- Sass 文件需要迁移到 Tailwind CSS
- 手动更新样式类名
- 检查自定义样式冲突

4. **图标库迁移**
- Iconfont 替换为 Iconify
- 更新所有图标引用
- 检查图标显示问题

5. **路由系统重构**
- 重新配置路由注册
- 检查路由权限配置

6. **组件重构检查**
- 检查 ArtForm、ArtSearchBar 组件使用
- 更新组件 API 调用

7. **重新登录**
- 升级后需要重新登录系统

##### 常见问题解决

**问题1：样式不生效**
```bash
# 清理缓存
pnpm clean:dev
pnpm dev
```

**问题2：图标显示异常**
```bash
# 检查 iconify 配置
# 确保在 main.ts 中正确引入
import '@iconify/vue'
```

### 次版本升级（Minor Version）

#### 通用升级步骤

1. **检查兼容性**
```bash
# 查看版本差异
git diff v2.5.0..v2.6.0
```

2. **更新依赖**
```bash
pnpm update
```

3. **运行测试**
```bash
# 运行单元测试
pnpm test

# 运行端到端测试
pnpm test:e2e
```

4. **检查破坏性变更**
- 查阅 CHANGELOG.md 中的 ⚠️ 标记
- 检查 API 变更
- 更新相关代码

### 修订版本升级（Patch Version）

#### 自动升级步骤

```bash
# 更新到最新修订版本
pnpm update

# 重新构建项目
pnpm build

# 启动开发服务器
pnpm dev
```

### 升级验证清单

- [ ] 备份项目文件
- [ ] 检查 Node.js 版本兼容性
- [ ] 更新依赖包
- [ ] 运行项目测试
- [ ] 检查核心功能正常
- [ ] 验证用户界面显示
- [ ] 测试路由权限
- [ ] 验证 API 接口
- [ ] 检查第三方集成

**章节来源**
- [CHANGELOG.md](file://CHANGELOG.md#L610-L651)
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md#L610-L655)

## 长期支持策略

### 支持周期

#### 主版本支持策略

| 主版本 | 发布日期 | 维护结束 | 支持状态 |
|--------|----------|----------|----------|
| v3.x   | 2025-11-09 | 2026-11-09 | 活跃维护 |
| v2.x   | 2025-06-06 | 2026-06-06 | 安全补丁 |
| v1.x   | 2024-01-01 | 2025-01-01 | EOL |

### 支持范围

#### 活跃维护版本
- 定期功能更新
- 性能优化
- 安全漏洞修复
- 社区问题响应

#### 安全补丁版本
- 仅安全相关修复
- 最高优先级处理
- 定期安全审计

#### 终止支持版本
- 仅保留关键安全修复
- 建议升级到支持版本

### LTS（长期支持）版本

目前项目暂未推出 LTS 版本，但未来计划：

- 每年发布 LTS 版本
- 提供 12 个月的安全支持
- 更稳定的 API 设计

## 版本选择建议

### 新项目推荐

#### 推荐版本：v3.0.1

**推荐理由：**
- 最新稳定版本
- 完整的功能支持
- 优秀的开发体验
- 长期维护支持

**适用场景：**
- 新建项目
- 需要现代化技术栈
- 追求最佳性能和体验

### 现有项目升级

#### 从 v2.x 升级到 v3.x

**谨慎升级：**
- 涉及重大重构
- 需要大量代码修改
- 需要重新测试

**替代方案：**
- 保持当前版本
- 逐步迁移功能
- 使用中间版本过渡

#### 从 v2.5.x 升级

**推荐升级：**
- 功能增强明显
- 性能优化显著
- 维护成本较低

**升级路径：**
1. 评估项目规模
2. 制定迁移计划
3. 分阶段实施
4. 充分测试验证

### 特殊需求场景

#### 性能敏感项目
- 选择最新修订版本
- 关注性能优化更新
- 定期检查性能指标

#### 稳定性优先项目
- 选择 LTS 版本
- 避免频繁升级
- 保持版本稳定性

#### 功能探索项目
- 选择次版本
- 尝试新功能
- 及时反馈问题

## 变更日志管理

### 变更日志结构

项目采用双语（中英文）变更日志管理：

#### 英文版本
- [CHANGELOG.md](file://CHANGELOG.md) - 主要变更日志
- 适用于国际开发者
- 标准化格式

#### 中文版本  
- [CHANGELOG.zh-CN.md](file://CHANGELOG.zh-CN.md) - 中文本地化版本
- 适合中文开发者
- 内容完整性保证

### 变更分类

#### 功能变更
- **Added**：新增功能
- **Changed**：功能变更
- **Deprecated**：功能弃用
- **Removed**：功能移除

#### 问题修复
- **Fixed**：Bug 修复
- **Security**：安全修复

#### 性能优化
- **Optimized**：性能优化
- **Refactored**：代码重构
- **Upgraded**：依赖升级

### 变更日志维护

#### 自动生成
项目使用自动化工具生成变更日志：

```typescript
// src/mock/upgrade/changeLog.ts
interface UpgradeLog {
  version: string
  title: string
  date: string
  detail?: string[]
  requireReLogin?: boolean
  remark?: string
}
```

#### 手动维护
- 重要变更补充说明
- 用户影响评估
- 升级指导编写

**章节来源**
- [src/mock/upgrade/changeLog.ts](file://src/mock/upgrade/changeLog.ts#L1-L432)

## 版本兼容性

### 浏览器兼容性

#### 支持的浏览器
- Chrome 88+
- Firefox 85+
- Safari 14+
- Edge 88+

#### 移动端支持
- iOS Safari 14+
- Android Chrome 88+
- 微信内置浏览器 X5

### Node.js 版本要求

#### 当前版本要求
- Node.js >= 20.19.0
- pnpm >= 8.8.0

#### 版本历史兼容性

| 版本 | Node.js 要求 | 兼容性状态 |
|------|--------------|------------|
| v3.0.1 | ≥ 20.19.0 | ✅ 完全兼容 |
| v2.6.1 | ≥ 20.19.0 | ✅ 完全兼容 |
| v2.5.8 | ≥ 20.19.0 | ✅ 完全兼容 |
| v2.4.0 | ≥ 18.0.0 | ✅ 完全兼容 |

### 第三方依赖兼容性

#### 核心依赖版本
- Vue 3.5.21+
- TypeScript 5.6.3+
- Element Plus 2.11.2+
- Tailwind CSS 4.1.14+

#### 兼容性检查
```bash
# 检查依赖版本
pnpm list --depth=0

# 验证兼容性
pnpm audit
```

### API 兼容性

#### 破坏性变更标识
- ⚠️ 标记的重要变更
- 需要特殊处理的升级
- 向后不兼容的修改

#### 迁移指南
- 详细说明变更影响
- 提供迁移代码示例
- 解决常见兼容性问题

**章节来源**
- [package.json](file://package.json#L5-L8)

## 故障排除

### 常见升级问题

#### 1. 依赖冲突

**问题描述：**
```
Error: Cannot resolve dependency
```

**解决方案：**
```bash
# 清理依赖缓存
rm -rf node_modules pnpm-lock.yaml
pnpm install

# 强制重新安装
pnpm install --force
```

#### 2. 样式问题

**问题描述：**
- 组件样式异常
- 主题配置失效

**解决方案：**
```bash
# 清理构建缓存
pnpm clean:dev
pnpm dev

# 检查 Tailwind 配置
npx tailwindcss -i ./src/assets/styles/index.scss -o ./dist/tailwind.css
```

#### 3. 路由问题

**问题描述：**
- 路由无法加载
- 权限配置错误

**解决方案：**
```bash
# 检查路由配置
cat src/router/modules/*.ts

# 重置路由
pnpm clean:dev
```

#### 4. 组件问题

**问题描述：**
- 组件找不到
- API 调用失败

**解决方案：**
```bash
# 检查组件导入
grep -r "ArtForm" src/

# 验证组件注册
cat src/main.ts | grep "components"
```

### 性能问题诊断

#### 构建性能
```bash
# 分析构建时间
pnpm build --profile

# 检查包大小
npx webpack-bundle-analyzer dist/stats.json
```

#### 运行时性能
```bash
# 启用性能监控
pnpm dev --profile

# 检查内存使用
node --max-old-space-size=4096 node_modules/.bin/vite
```

### 社区支持

#### 获取帮助
- **GitHub Issues**：报告 bug 和功能请求
- **QQ 群**：821834289（点击链接加入）
- **官方文档**：https://www.artd.pro/docs
- **在线演示**：https://www.artd.pro

#### 贡献指南
项目欢迎社区贡献：

1. Fork 项目仓库
2. 创建功能分支
3. 编写测试用例
4. 提交 Pull Request
5. 等待代码审查

**章节来源**
- [README.md](file://README.md#L76-L89)
- [README.zh-CN.md](file://README.zh-CN.md#L76-L89)

## 结论

Art Design Pro 项目通过严格的版本管理和清晰的升级指南，为开发者提供了可靠的技术平台。随着项目的持续发展，我们将继续优化版本发布流程，提供更好的开发体验。

### 最佳实践建议

1. **定期更新**：保持项目依赖的及时更新
2. **充分测试**：升级前进行全面的功能测试
3. **备份重要**：每次升级前做好项目备份
4. **关注文档**：仔细阅读版本发布说明
5. **社区参与**：积极参与社区讨论和贡献

通过遵循本指南，开发者可以安全、高效地管理项目版本，确保应用的稳定性和可维护性。
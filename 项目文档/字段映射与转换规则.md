# å­—æ®µæ˜ å°„ä¸è½¬æ¢è§„åˆ™æ–‡æ¡£

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.1  
> **åˆ›å»ºæ—¶é—´**: 2024-11-16  
> **æœ€åæ›´æ–°**: 2024-11-17  
> **é€‚ç”¨èŒƒå›´**: ç”¨æˆ·ç®¡ç†ã€è§’è‰²ç®¡ç†ã€èœå•ç®¡ç†æ¨¡å—  
> **ç»´æŠ¤çŠ¶æ€**: ğŸŸ¢ æ´»è·ƒç»´æŠ¤ä¸­

---

## ğŸ“– æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº†å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ä¸‰å±‚ä¹‹é—´çš„å­—æ®µæ˜ å°„å…³ç³»å’Œæ•°æ®è½¬æ¢è§„åˆ™ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜èƒ½å¤Ÿå¿«é€Ÿç†è§£æ•°æ®æµè½¬è¿‡ç¨‹ã€‚

### æ–‡æ¡£ç»“æ„

1. [ç”¨æˆ·ç®¡ç†æ¨¡å—](#ä¸€ç”¨æˆ·ç®¡ç†æ¨¡å—)
2. [è§’è‰²ç®¡ç†æ¨¡å—](#äºŒè§’è‰²ç®¡ç†æ¨¡å—)
3. [èœå•ç®¡ç†æ¨¡å—](#ä¸‰èœå•ç®¡ç†æ¨¡å—)
4. [é€šç”¨è½¬æ¢è§„åˆ™](#å››é€šç”¨è½¬æ¢è§„åˆ™)
5. [æ•°æ®åº“è¿ç§»è®°å½•](#äº”æ•°æ®åº“è¿ç§»è®°å½•)
6. [å¿«é€ŸæŸ¥è¯¢ç´¢å¼•](#å…­å¿«é€ŸæŸ¥è¯¢ç´¢å¼•)

---

## ä¸€ã€ç”¨æˆ·ç®¡ç†æ¨¡å—

### 1.1 ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢

#### å®Œæ•´æ˜ å°„è¡¨

| å‰ç«¯å­—æ®µ | å‰ç«¯ç±»å‹ | åç«¯APIå­—æ®µ | åç«¯ç±»å‹ | æ•°æ®åº“å­—æ®µ | æ•°æ®åº“ç±»å‹ | è½¬æ¢è§„åˆ™ | è¯´æ˜ |
| --- | --- | --- | --- | --- | --- | --- | --- |
| id | number | id | number | id | INT | æ—  | ç”¨æˆ·ID |
| userName | string | userName | string | username | VARCHAR(50) | æ—  | ç”¨æˆ·å |
| nickName | string | nickName | string | nickname | VARCHAR(50) | æ—  | æ˜µç§° |
| avatar | string | avatar | string | avatar | VARCHAR(255) | æ—  | å¤´åƒURL |
| userGender | string | userGender | string | sex | TINYINT | 1â†’"1", 2â†’"2" | æ€§åˆ«ï¼ˆæ˜¾ç¤ºæ—¶éœ€è½¬ä¸º"ç”·"/"å¥³"ï¼‰ |
| userPhone | string | userPhone | string | mobile | VARCHAR(20) | æ—  | æ‰‹æœºå· |
| userEmail | string | userEmail | string | email | VARCHAR(100) | æ—  | é‚®ç®± |
| status | string | status | number | status | TINYINT | 1â†’"1", 0â†’"0" | å¯ç”¨çŠ¶æ€ |
| userRoles | string[] | userRoles | string | role_code | VARCHAR(50) | è½¬ä¸ºæ•°ç»„ | è§’è‰²ç¼–ç ï¼ˆé€šè¿‡JOINæŸ¥è¯¢ï¼‰ |
| createTime | string | createTime | string | created_at | DATETIME | æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸² | åˆ›å»ºæ—¶é—´ |
| updateTime | string | updateTime | string | updated_at | DATETIME | æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸² | æ›´æ–°æ—¶é—´ |

#### SQLæŸ¥è¯¢ç¤ºä¾‹

```
SELECT
  u.id,
  u.username as userName,
  u.nickname as nickName,
  u.avatar,
  u.sex as userGender,
  u.mobile as userPhone,
  u.email as userEmail,
  u.status,
  u.created_at as createTime,
  u.updated_at as updateTime,
  r.role_code as userRoles
FROM users u
LEFT JOIN roles r ON u.role_id = r.id
WHERE 1=1
  -- æ¡ä»¶ç­›é€‰...
```

#### åç«¯æ•°æ®å¤„ç†

```
// å°† userRoles è½¬ä¸ºæ•°ç»„
records.map((r) => ({
  ...r,
  userRoles: r.userRoles ? [r.userRoles] : []
}))
```

#### å‰ç«¯æ˜¾ç¤ºè½¬æ¢

```
// æ€§åˆ«æ˜¾ç¤ºè½¬æ¢
const genderMap = { '1': 'ç”·', '2': 'å¥³' }
const displayGender = genderMap[userGender] || 'æœªçŸ¥'

// çŠ¶æ€æ˜¾ç¤ºè½¬æ¢
const statusMap = { '1': 'å¯ç”¨', '0': 'ç¦ç”¨' }
const displayStatus = statusMap[status] || 'æœªçŸ¥'
```

---

### 1.2 ç”¨æˆ·åˆ›å»º

#### å®Œæ•´æ˜ å°„è¡¨

| å‰ç«¯è¡¨å•å­—æ®µ | å‰ç«¯ç±»å‹ | APIå‚æ•°å­—æ®µ | APIç±»å‹ | åç«¯æ¥æ”¶å­—æ®µ | æ•°æ®åº“å­—æ®µ | æ•°æ®åº“ç±»å‹ | è½¬æ¢è§„åˆ™ | è¯´æ˜ |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| username | string | username | string | username | username | VARCHAR(50) | æ—  | ç”¨æˆ·å |
| phone | string | phone | string | phone â†’ mobile | mobile | VARCHAR(20) | å­—æ®µåæ˜ å°„ | æ‰‹æœºå· |
| gender | "ç”·"\|"å¥³" | gender | string | gender â†’ sex | sex | TINYINT | "ç”·"â†’1, "å¥³"â†’2 | æ€§åˆ« |
| role | string[] | role | string[] | role â†’ role_id | role_id | INT | æŸ¥è¯¢rolesè¡¨è½¬æ¢ | è§’è‰²ï¼ˆå–æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ |
| - | - | - | - | password | password | VARCHAR(255) | bcrypt('123456') | å¯†ç ï¼ˆå›ºå®šé»˜è®¤å€¼ï¼‰ |
| - | - | - | - | status | status | TINYINT | å›ºå®šä¸º1 | å¯ç”¨çŠ¶æ€ |
| - | - | - | - | create_by | create_by | INT | JWT Token userId | åˆ›å»ºäººID |
| - | - | - | - | update_by | update_by | INT | JWT Token userId | æ›´æ–°äººID |
| - | - | - | - | created_at | created_at | DATETIME | NOW() | åˆ›å»ºæ—¶é—´ |

#### SQLæ’å…¥ç¤ºä¾‹

```
INSERT INTO users (
  username,
  password,
  mobile,
  sex,
  role_id,
  status,
  create_by,
  update_by,
  created_at,
  updated_at
) VALUES (?, ?, ?, ?, ?, 1, ?, ?, NOW(), NOW())
```

#### åç«¯è½¬æ¢é€»è¾‘

```
// æ€§åˆ«è½¬æ¢
const sexValue = gender === 'ç”·' ? 1 : 2

// è§’è‰²è½¬æ¢ï¼ˆä»è§’è‰²ç¼–ç æŸ¥è¯¢è§’è‰²IDï¼‰
const [roleRows] = await pool.execute('SELECT id FROM roles WHERE role_code = ?', [role[0]])
const roleId = roleRows[0]?.id || 3 // é»˜è®¤ä¸ºæ™®é€šç”¨æˆ·

// åˆ›å»ºäºº/æ›´æ–°äººï¼ˆä»JWT Tokenè·å–ï¼‰
const userId = req.user?.userId
```

---

### 1.3 ç”¨æˆ·æ›´æ–°

#### å®Œæ•´æ˜ å°„è¡¨

| å‰ç«¯è¡¨å•å­—æ®µ | å‰ç«¯ç±»å‹ | APIå‚æ•°å­—æ®µ | APIç±»å‹ | åç«¯æ¥æ”¶å­—æ®µ | æ•°æ®åº“å­—æ®µ | æ•°æ®åº“ç±»å‹ | è½¬æ¢è§„åˆ™ | è¯´æ˜ |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| username | string | username | string | username | username | VARCHAR(50) | æ—  | ç”¨æˆ·å |
| phone | string | phone | string | phone â†’ mobile | mobile | VARCHAR(20) | å­—æ®µåæ˜ å°„ | æ‰‹æœºå· |
| gender | "ç”·"\|"å¥³" | gender | string | gender â†’ sex | sex | TINYINT | "ç”·"â†’1, "å¥³"â†’2 | æ€§åˆ« |
| role | string[] | role | string[] | role â†’ role_id | role_id | INT | æŸ¥è¯¢rolesè¡¨è½¬æ¢ï¼ˆå¯é€‰ï¼‰ | è§’è‰² |
| - | - | - | - | update_by | update_by | INT | JWT Token userId | æ›´æ–°äººID |
| - | - | - | - | updated_at | updated_at | DATETIME | NOW() | æ›´æ–°æ—¶é—´ |

#### SQLæ›´æ–°ç¤ºä¾‹

```
UPDATE users SET
  username = ?,
  mobile = ?,
  sex = ?,
  role_id = ?, -- å¦‚æœæä¾›
  update_by = ?,
  updated_at = NOW()
WHERE id = ?
```

---

### 1.4 å­—æ®µå€¼è½¬æ¢è§„åˆ™

#### æ€§åˆ«å­—æ®µè½¬æ¢

| å‰ç«¯æ˜¾ç¤º | å‰ç«¯è¡¨å• | APIä¼ è¾“ | åç«¯å¤„ç† | æ•°æ®åº“å­˜å‚¨ | æŸ¥è¯¢è¿”å›    |
| -------- | -------- | ------- | -------- | ---------- | ----------- |
| "ç”·"     | "ç”·"     | "ç”·"    | è½¬æ¢â†’1   | 1          | "1"(å­—ç¬¦ä¸²) |
| "å¥³"     | "å¥³"     | "å¥³"    | è½¬æ¢â†’2   | 2          | "2"(å­—ç¬¦ä¸²) |

**è½¬æ¢ä»£ç **ï¼š

```
// åˆ›å»º/æ›´æ–°æ—¶ï¼šå‰ç«¯ â†’ æ•°æ®åº“
const sex = gender === 'ç”·' ? 1 : 2

// æŸ¥è¯¢æ—¶ï¼šæ•°æ®åº“ â†’ å‰ç«¯æ˜¾ç¤º
const genderMap = { '1': 'ç”·', '2': 'å¥³' }
const displayGender = genderMap[userGender]
```

#### è§’è‰²å­—æ®µè½¬æ¢

| å‰ç«¯æ˜¾ç¤º       | å‰ç«¯è¡¨å•    | APIä¼ è¾“     | åç«¯å¤„ç† | æ•°æ®åº“å­˜å‚¨ | æŸ¥è¯¢è¿”å›  |
| -------------- | ----------- | ----------- | -------- | ---------- | --------- |
| ["è¶…çº§ç®¡ç†å‘˜"] | ["R_SUPER"] | ["R_SUPER"] | æŸ¥è¯¢â†’1   | 1          | "R_SUPER" |
| ["ç®¡ç†å‘˜"]     | ["R_ADMIN"] | ["R_ADMIN"] | æŸ¥è¯¢â†’2   | 2          | "R_ADMIN" |
| ["æ™®é€šç”¨æˆ·"]   | ["R_USER"]  | ["R_USER"]  | æŸ¥è¯¢â†’3   | 3          | "R_USER"  |

**è½¬æ¢ä»£ç **ï¼š

```
// åˆ›å»º/æ›´æ–°æ—¶ï¼šè§’è‰²ç¼–ç  â†’ è§’è‰²ID
const [roleRows] = await pool.execute('SELECT id FROM roles WHERE role_code = ?', [role[0]])
const roleId = roleRows[0]?.id || 3

// æŸ¥è¯¢æ—¶ï¼šJOINæŸ¥è¯¢è·å–role_codeï¼Œè½¬ä¸ºæ•°ç»„
userRoles: r.userRoles ? [r.userRoles] : []
```

#### å®¡è®¡å­—æ®µè‡ªåŠ¨å¡«å……

| å­—æ®µå     | åˆ›å»ºæ—¶   | æ›´æ–°æ—¶   | æ•°æ®æ¥æº            |
| ---------- | -------- | -------- | ------------------- |
| create_by  | âœ… å¡«å……  | âŒ ä¸å˜  | JWT Tokenä¸­çš„userId |
| update_by  | âœ… å¡«å……  | âœ… æ›´æ–°  | JWT Tokenä¸­çš„userId |
| created_at | âœ… NOW() | âŒ ä¸å˜  | æ•°æ®åº“æ—¶é—´æˆ³        |
| updated_at | âœ… NOW() | âœ… NOW() | æ•°æ®åº“æ—¶é—´æˆ³        |

**è½¬æ¢ä»£ç **ï¼š

```
// ä»JWT Tokenè·å–å½“å‰ç”¨æˆ·ID
const userId = req.user?.userId || 0

// æ’å…¥æ—¶
create_by: userId,
update_by: userId

// æ›´æ–°æ—¶
update_by: userId
```

---

## äºŒã€è§’è‰²ç®¡ç†æ¨¡å—

### 2.1 è§’è‰²åˆ—è¡¨æŸ¥è¯¢

#### å®Œæ•´æ˜ å°„è¡¨

| å‰ç«¯å­—æ®µ | å‰ç«¯ç±»å‹ | åç«¯APIå­—æ®µ | åç«¯ç±»å‹ | æ•°æ®åº“å­—æ®µ | æ•°æ®åº“ç±»å‹ | è½¬æ¢è§„åˆ™ | è¯´æ˜ |
| --- | --- | --- | --- | --- | --- | --- | --- |
| roleId | number | roleId | number | id | INT | æ—  | è§’è‰²ID |
| roleName | string | roleName | string | role_name | VARCHAR(50) | æ—  | è§’è‰²åç§° |
| roleCode | string | roleCode | string | role_code | VARCHAR(50) | æ—  | è§’è‰²ç¼–ç  |
| description | string | description | string | description | VARCHAR(200) | æ—  | è§’è‰²æè¿° |
| enabled | boolean | enabled | boolean | enabled | TINYINT | 1â†’true, 0â†’false | å¯ç”¨çŠ¶æ€ |
| createTime | string | createTime | string | created_at | DATETIME | æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸² | åˆ›å»ºæ—¶é—´ |
| updateTime | string | updateTime | string | updated_at | DATETIME | æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸² | æ›´æ–°æ—¶é—´ |

#### SQLæŸ¥è¯¢ç¤ºä¾‹

```
SELECT
  id as roleId,
  role_name as roleName,
  role_code as roleCode,
  description,
  enabled,
  created_at as createTime,
  updated_at as updateTime
FROM roles
WHERE 1=1
  -- æ¡ä»¶ç­›é€‰...
```

#### åç«¯æ•°æ®å¤„ç†

```
// å°†æ•°æ®åº“çš„ TINYINT(0/1) è½¬æ¢ä¸º boolean
records.map((r) => ({
  ...r,
  enabled: r.enabled === 1
}))
```

---

### 2.2 è§’è‰²åˆ›å»º

#### å®Œæ•´æ˜ å°„è¡¨

| å‰ç«¯è¡¨å•å­—æ®µ | å‰ç«¯ç±»å‹ | APIå‚æ•°å­—æ®µ | APIç±»å‹ | åç«¯æ¥æ”¶å­—æ®µ | æ•°æ®åº“å­—æ®µ | æ•°æ®åº“ç±»å‹ | è½¬æ¢è§„åˆ™ | è¯´æ˜ |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| roleName | string | roleName | string | roleName | role_name | VARCHAR(50) | æ—  | è§’è‰²åç§° |
| roleCode | string | roleCode | string | roleCode | role_code | VARCHAR(50) | æ—  | è§’è‰²ç¼–ç  |
| description | string | description | string | description | description | VARCHAR(200) | æ—  | è§’è‰²æè¿° |
| enabled | boolean | enabled | boolean | enabled â†’ status | enabled | TINYINT | trueâ†’1, falseâ†’0 | å¯ç”¨çŠ¶æ€ |
| dashboardPath | string | dashboardPath | string | dashboardPath | dashboard_path | VARCHAR(200) | é»˜è®¤å€¼å¤„ç† | æ§åˆ¶å°è·¯å¾„ |
| - | - | - | - | - | created_at | DATETIME | NOW() | åˆ›å»ºæ—¶é—´ |

#### SQLæ’å…¥ç¤ºä¾‹

```
INSERT INTO roles (
  role_name,
  role_code,
  dashboard_path,
  description,
  enabled,
  created_at
) VALUES (?, ?, ?, ?, ?, NOW())
```

#### åç«¯è½¬æ¢é€»è¾‘

```
// å¯ç”¨çŠ¶æ€è½¬æ¢
const statusValue = enabled ? 1 : 0

// æ§åˆ¶å°è·¯å¾„ï¼ˆå¯é€‰ï¼Œé»˜è®¤å€¼ï¼‰
const dashboardPathValue = dashboardPath || '/user/dashboard/console'
```

---

### 2.3 è§’è‰²æ›´æ–°

#### å®Œæ•´æ˜ å°„è¡¨

| å‰ç«¯è¡¨å•å­—æ®µ | å‰ç«¯ç±»å‹ | APIå‚æ•°å­—æ®µ | APIç±»å‹ | åç«¯æ¥æ”¶å­—æ®µ | æ•°æ®åº“å­—æ®µ | æ•°æ®åº“ç±»å‹ | è½¬æ¢è§„åˆ™ | è¯´æ˜ |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| roleName | string | roleName | string | roleName | role_name | VARCHAR(50) | æ—  | è§’è‰²åç§° |
| roleCode | string | roleCode | string | roleCode | role_code | VARCHAR(50) | æ—  | è§’è‰²ç¼–ç  |
| description | string | description | string | description | description | VARCHAR(200) | æ—  | è§’è‰²æè¿° |
| enabled | boolean | enabled | boolean | enabled â†’ status | enabled | TINYINT | trueâ†’1, falseâ†’0 | å¯ç”¨çŠ¶æ€ |
| dashboardPath | string | dashboardPath | string | dashboardPath | dashboard_path | VARCHAR(200) | å¯é€‰æ›´æ–° | æ§åˆ¶å°è·¯å¾„ï¼ˆå¯é€‰ï¼‰ |
| - | - | - | - | - | updated_at | DATETIME | NOW() | æ›´æ–°æ—¶é—´ |

#### SQLæ›´æ–°ç¤ºä¾‹

```
-- åŸºç¡€æ›´æ–°ï¼ˆä¸åŒ…å« dashboardPathï¼‰
UPDATE roles SET
  role_name = ?,
  role_code = ?,
  description = ?,
  enabled = ?,
  updated_at = NOW()
WHERE id = ?

-- åŒ…å« dashboardPath çš„æ›´æ–°
UPDATE roles SET
  role_name = ?,
  role_code = ?,
  description = ?,
  enabled = ?,
  dashboard_path = ?,
  updated_at = NOW()
WHERE id = ?
```

#### åç«¯è½¬æ¢é€»è¾‘

```
// å¯ç”¨çŠ¶æ€è½¬æ¢
const statusValue = enabled ? 1 : 0

// åŠ¨æ€æ„å»ºæ›´æ–°å­—æ®µ
let updateFields = 'role_name=?, role_code=?, description=?, enabled=?'
const updateParams = [roleName, roleCode, description, statusValue]

// å¦‚æœæä¾›äº† dashboardPathï¼Œåˆ™æ›´æ–°
if (dashboardPath !== undefined) {
  updateFields += ', dashboard_path=?'
  updateParams.push(dashboardPath)
}

updateFields += ', updated_at=NOW()'
```

---

### 2.4 å­—æ®µå€¼è½¬æ¢è§„åˆ™

#### å¯ç”¨çŠ¶æ€è½¬æ¢

| å‰ç«¯æ˜¾ç¤º | å‰ç«¯è¡¨å• | APIä¼ è¾“ | åç«¯å¤„ç† | æ•°æ®åº“å­˜å‚¨ | æŸ¥è¯¢è¿”å› |
| -------- | -------- | ------- | -------- | ---------- | -------- |
| "å¯ç”¨"   | true     | true    | è½¬æ¢â†’1   | 1          | true     |
| "ç¦ç”¨"   | false    | false   | è½¬æ¢â†’0   | 0          | false    |

**è½¬æ¢ä»£ç **ï¼š

```
// åˆ›å»º/æ›´æ–°æ—¶ï¼šå‰ç«¯ â†’ æ•°æ®åº“
const status = enabled ? 1 : 0

// æŸ¥è¯¢æ—¶ï¼šæ•°æ®åº“ â†’ å‰ç«¯
enabled: r.enabled === 1
```

#### æ§åˆ¶å°è·¯å¾„è¯´æ˜

| è§’è‰²ç¼–ç  | é»˜è®¤è·¯å¾„                | è¯´æ˜             |
| -------- | ----------------------- | ---------------- |
| R_SUPER  | /user/dashboard/console | è¶…çº§ç®¡ç†å‘˜æ§åˆ¶å° |
| R_ADMIN  | /user/dashboard/console | ç®¡ç†å‘˜æ§åˆ¶å°     |
| R_USER   | /user/dashboard/console | æ™®é€šç”¨æˆ·æ§åˆ¶å°   |

**æ³¨æ„äº‹é¡¹**ï¼š

- åˆ›å»ºè§’è‰²æ—¶ï¼Œå¦‚æœæœªæä¾› `dashboardPath`ï¼Œé»˜è®¤ä¸º `'/user/dashboard/console'`
- æ›´æ–°è§’è‰²æ—¶ï¼Œ`dashboardPath` ä¸ºå¯é€‰å‚æ•°ï¼Œå¦‚æœä¸æä¾›åˆ™ä¸æ›´æ–°è¯¥å­—æ®µ
- å‰ç«¯å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰ä¸åŒè§’è‰²çš„æ§åˆ¶å°è·¯å¾„

---

## ä¸‰ã€èœå•ç®¡ç†æ¨¡å—

### 3.1 èœå•è¡¨ï¼ˆmenusï¼‰å­—æ®µæ˜ å°„

#### æ ¸å¿ƒå­—æ®µæ˜ å°„è¡¨

| æ•°æ®åº“å­—æ®µ | MySQLç±»å‹ | TypeScriptå­—æ®µ | TSç±»å‹ | è½¬æ¢è§„åˆ™ | è¯´æ˜ |
| --- | --- | --- | --- | --- | --- |
| id | INT | id | number | ç›´æ¥æ˜ å°„ | èœå•ID |
| parent_id | INT | parentId | number \| null | ç›´æ¥æ˜ å°„ï¼ŒNULLâ†’null | çˆ¶èœå•ID |
| menu_type | VARCHAR(20) | menuType | string | ç›´æ¥æ˜ å°„ | èœå•ç±»å‹ |
| name | VARCHAR(100) | name | string | ç›´æ¥æ˜ å°„ | è·¯ç”±åç§°/Tree key |
| path | VARCHAR(255) | path | string \| null | ç›´æ¥æ˜ å°„ï¼ŒNULLâ†’null | è·¯ç”±è·¯å¾„ |
| component | VARCHAR(255) | component | string \| null | ç›´æ¥æ˜ å°„ï¼ŒNULLâ†’null | ç»„ä»¶è·¯å¾„ |
| title | VARCHAR(100) | title | string | ç›´æ¥æ˜ å°„ | èœå•æ ‡é¢˜ |
| icon | VARCHAR(100) | icon | string \| undefined | ç›´æ¥æ˜ å°„ï¼ŒNULLâ†’undefined | å›¾æ ‡ |
| sort | INT | order | number \| undefined | ç›´æ¥æ˜ å°„ | æ’åºå· |
| enabled | TINYINT | enabled | boolean | 1â†’true, 0â†’false | å¯ç”¨çŠ¶æ€ |
| is_hide | TINYINT | hide | boolean \| undefined | 1â†’true, 0â†’false | æ˜¯å¦éšè—èœå• |
| is_hide_tab | TINYINT | hideInTab | boolean \| undefined | 1â†’true, 0â†’false | æ˜¯å¦éšè—æ ‡ç­¾é¡µ |
| keep_alive | TINYINT | keepAlive | boolean \| undefined | 1â†’true, 0â†’false | æ˜¯å¦ç¼“å­˜é¡µé¢ |
| link | VARCHAR(500) | link | string \| undefined | ç›´æ¥æ˜ å°„ï¼ŒNULLâ†’undefined | å¤–éƒ¨é“¾æ¥URL |
| is_iframe | TINYINT | iframe | boolean \| undefined | 1â†’true, 0â†’false | æ˜¯å¦å†…åµŒé¡µé¢ |
| show_badge | TINYINT | badge | boolean \| number | 1â†’true, 0â†’false | æ˜¯å¦æ˜¾ç¤ºå¾½ç«  |
| show_text_badge | VARCHAR(50) | textBadge | string \| undefined | ç›´æ¥æ˜ å°„ï¼ŒNULLâ†’undefined | æ–‡æœ¬å¾½ç« å†…å®¹ |
| fixed_tab | TINYINT | fixedTab | boolean \| undefined | 1â†’true, 0â†’false | æ˜¯å¦å›ºå®šæ ‡ç­¾ |
| active_path | VARCHAR(255) | activeMenu | string \| undefined | ç›´æ¥æ˜ å°„ | æ¿€æ´»èœå•è·¯å¾„ |
| is_full_page | TINYINT | fullPage | boolean \| undefined | 1â†’true, 0â†’false | æ˜¯å¦å…¨å±é¡µé¢ |
| auth_mark | VARCHAR(100) | authMark | string \| undefined | ç›´æ¥æ˜ å°„ï¼ŒNULLâ†’undefined | æƒé™æ ‡è¯† |
| created_at | DATETIME | createdAt | string | ISO 8601æ ¼å¼ | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | updatedAt | string | ISO 8601æ ¼å¼ | æ›´æ–°æ—¶é—´ |
| create_by | INT | createBy | number \| null | ç›´æ¥æ˜ å°„ï¼ŒNULLâ†’null | åˆ›å»ºäººID |
| update_by | INT | updateBy | number \| null | ç›´æ¥æ˜ å°„ï¼ŒNULLâ†’null | æ›´æ–°äººID |

---

### 3.2 èœå•è§’è‰²å…³è”è¡¨ï¼ˆmenu_rolesï¼‰å­—æ®µæ˜ å°„

| æ•°æ®åº“å­—æ®µ | MySQLç±»å‹ | TypeScriptå­—æ®µ | TSç±»å‹ | è½¬æ¢è§„åˆ™     | è¯´æ˜     |
| ---------- | --------- | -------------- | ------ | ------------ | -------- |
| id         | INT       | id             | number | ç›´æ¥æ˜ å°„     | å…³è”ID   |
| menu_id    | INT       | menuId         | number | ç›´æ¥æ˜ å°„     | èœå•ID   |
| role_id    | INT       | roleId         | number | ç›´æ¥æ˜ å°„     | è§’è‰²ID   |
| created_at | DATETIME  | createdAt      | string | ISO 8601æ ¼å¼ | åˆ›å»ºæ—¶é—´ |

---

### 3.3 è§’è‰²èœå•æƒé™åŠŸèƒ½

#### åç«¯æ¥å£

**GET /api/role/:id/menus**

- è¿”å›ï¼š`{ code: 200, data: number[] }`
- å­—æ®µæ˜ å°„ï¼š`menu_id` (INT) â†’ `number`

**PUT /api/role/:id/menus**

- å‚æ•°ï¼š`{ menuIds: number[] }`
- å­—æ®µæ˜ å°„ï¼š`menuIds` (number[]) â†’ `menu_id` (INT)

#### å‰ç«¯API

```
// è·å–è§’è‰²çš„èœå•æƒé™
fetchGetRoleMenus(roleId: number): Promise<number[]>

// æ›´æ–°è§’è‰²çš„èœå•æƒé™
fetchUpdateRoleMenus(roleId: number, menuIds: number[]): Promise<void>
```

---

### 3.4 IDä¸Nameè½¬æ¢æœºåˆ¶

**é—®é¢˜**ï¼šElement Plus Treeç»„ä»¶ä½¿ç”¨èœå•çš„ `name` å±æ€§ï¼ˆå­—ç¬¦ä¸²ï¼‰ä½œä¸ºèŠ‚ç‚¹keyï¼Œè€Œæ•°æ®åº“å­˜å‚¨çš„æ˜¯ `id`ï¼ˆæ•´æ•°ï¼‰ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šå®ç°åŒå‘è½¬æ¢æœºåˆ¶

#### æ•°æ®æµè½¬

| é˜¶æ®µ       | æ•°æ®æ ¼å¼        | è¯´æ˜                                          |
| ---------- | --------------- | --------------------------------------------- |
| æ•°æ®åº“     | menu_id: number | menu_rolesè¡¨å­˜å‚¨èœå•IDï¼ˆæ•´æ•°ï¼‰                |
| åç«¯è¿”å›   | number[]        | èœå•IDæ•°ç»„                                    |
| å‰ç«¯è½¬æ¢   | string[]        | å°†IDè½¬æ¢ä¸ºèœå•nameï¼ˆTreeç»„ä»¶ä½¿ç”¨nameä½œä¸ºkeyï¼‰ |
| Treeç»„ä»¶   | name: string    | ä½¿ç”¨èœå•çš„nameå±æ€§ä½œä¸ºèŠ‚ç‚¹key                 |
| å‰ç«¯ä¿å­˜   | string[]        | Treeè¿”å›é€‰ä¸­çš„nameæ•°ç»„                        |
| å‰ç«¯è½¬æ¢   | number[]        | å°†nameè½¬æ¢å›ID                                |
| åç«¯æ¥æ”¶   | number[]        | èœå•IDæ•°ç»„                                    |
| æ•°æ®åº“å­˜å‚¨ | menu_id: number | å­˜å‚¨æ•´æ•°ID                                    |

#### è½¬æ¢ä»£ç 

**åŠ è½½æƒé™æ—¶ï¼ˆID â†’ Nameï¼‰**ï¼š

```
const findMenuName = (nodes: any[], id: number): string | null => {
  for (const node of nodes) {
    if (node.id === id) return node.name
    if (node.children && node.children.length > 0) {
      const found = findMenuName(node.children, id)
      if (found !== null) return found
    }
  }
  return null
}
```

**ä¿å­˜æƒé™æ—¶ï¼ˆName â†’ IDï¼‰**ï¼š

```
const findMenuId = (nodes: any[], name: string): number | null => {
  for (const node of nodes) {
    if (node.name === name) return node.id
    if (node.children && node.children.length > 0) {
      const found = findMenuId(node.children, name)
      if (found !== null) return found
    }
  }
  return null
}
```

---

### 3.5 è™šæ‹ŸèŠ‚ç‚¹å¤„ç†è§„åˆ™

**é—®é¢˜**ï¼šæƒé™æŒ‰é’®ï¼ˆauthListï¼‰è¢«è½¬æ¢ä¸ºæ ‘å½¢è™šæ‹Ÿå­èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹nameæ ¼å¼ä¸º `menuName_authMark`ï¼ˆå¦‚ `Menus_add`ï¼‰ï¼Œä¸å¯¹åº”å®é™…èœå•è®°å½•ã€‚

**è™šæ‹ŸèŠ‚ç‚¹æ ¼å¼**ï¼š

```
{
  id: `${menuId}_${authMark}`,        // å¦‚ï¼š"1_add"
  name: `${menuName}_${authMark}`,    // å¦‚ï¼š"Menus_add"
  label: auth.title,                   // å¦‚ï¼š"æ–°å¢"
  isAuth: true                         // æ ‡è®°ä¸ºæƒé™æŒ‰é’®èŠ‚ç‚¹
}
```

**è¿‡æ»¤é€»è¾‘**ï¼š

```
const authMarks = ['add', 'edit', 'delete', 'view', 'export', 'import']
const validMenuNames = allKeys.filter((key: any) => {
  const keyStr = String(key)
  if (!keyStr.includes('_')) return true  // ä¸å«ä¸‹åˆ’çº¿ï¼Œæ˜¯çœŸå®èœå•

  const parts = keyStr.split('_')
  const lastPart = parts[parts.length - 1]
  return !authMarks.includes(lastPart.toLowerCase())  // ä¸æ˜¯æƒé™æ ‡è¯†
})
```

**æ˜ å°„å…³ç³»**:

- è™šæ‹ŸèŠ‚ç‚¹ï¼šä»…ç”¨äºå‰ç«¯å±•ç¤º,ä¸ä¿å­˜åˆ°æ•°æ®åº“
- çœŸå®èœå•ï¼šæœ‰å¯¹åº”çš„æ•°æ®åº“è®°å½•,ä¿å­˜æ—¶ä½¿ç”¨å…¶ID

---

## å››ã€é€šç”¨è½¬æ¢è§„åˆ™

### 4.1 æ—¥æœŸæ—¶é—´è½¬æ¢

#### æ•°æ®åº“ â†’ åç«¯ â†’ å‰ç«¯

```
// æ•°æ®åº“å­˜å‚¨æ ¼å¼ï¼ˆMySQL DATETIMEï¼‰
DATETIME: '2025-11-16 21:36:50'

// SQLæŸ¥è¯¢åˆ«åæ˜ å°„
created_at as createTime
updated_at as updateTime

// åç«¯è¿”å›ï¼ˆè‡ªåŠ¨è½¬ä¸ºISO 8601æ ¼å¼ï¼ŒUTCæ—¶é—´ï¼‰
{
  createTime: '2025-11-16T13:36:50.000Z',  // UTCæ—¶é—´ï¼Œæ¯”åŒ—äº¬æ—¶é—´æ—©8å°æ—¶
  updateTime: '2025-11-16T13:36:50.000Z'
}

// å‰ç«¯æ˜¾ç¤ºè½¬æ¢ï¼ˆä½¿ç”¨å…¨å±€æ—¥æœŸå·¥å…·ï¼‰
import { formatDateTime } from '@/utils/date'

// åœ¨è¡¨æ ¼åˆ—ä¸­åº”ç”¨
{
  prop: 'createTime',
  label: 'åˆ›å»ºæ—¥æœŸ',
  sortable: true,
  formatter: (row) => formatDateTime(row.createTime)
}
// æ˜¾ç¤ºç»“æœï¼š'2025-11-16 21:36:50'ï¼ˆè‡ªåŠ¨è½¬ä¸ºæœ¬åœ°æ—¶é—´ï¼‰
```

#### å…¨å±€æ—¥æœŸæ ¼å¼åŒ–å·¥å…·

**å·¥å…·æ–‡ä»¶**ï¼š`src/utils/date.ts`

**ä¸»è¦åŠŸèƒ½**ï¼š

1. **formatDateTime(date, format?)**
   - å°†ISO 8601æ ¼å¼è½¬æ¢ä¸ºæŒ‡å®šæ ¼å¼çš„æœ¬åœ°æ—¶é—´
   - æ”¯æŒå­—ç¬¦ä¸²ã€Dateå¯¹è±¡ã€æ—¶é—´æˆ³
   - é»˜è®¤æ ¼å¼ï¼š`YYYY-MM-DD HH:mm:ss`

2. **formatDate(date)**
   - ä»…æ˜¾ç¤ºæ—¥æœŸéƒ¨åˆ†ï¼š`YYYY-MM-DD`

3. **formatTime(date)**
   - ä»…æ˜¾ç¤ºæ—¶é—´éƒ¨åˆ†ï¼š`HH:mm:ss`

4. **getRelativeTime(date)**
   - ç›¸å¯¹æ—¶é—´æè¿°ï¼šâ€œåˆšåˆšâ€ã€â€œ5åˆ†é’Ÿå‰â€ç­‰

**ä½¿ç”¨ç¤ºä¾‹**ï¼š

```
import { formatDateTime, formatDate, DateFormat } from '@/utils/date'

// åŸºæœ¬ä½¿ç”¨
formatDateTime('2025-11-16T13:36:50.000Z')
// => '2025-11-16 21:36:50'

// è‡ªå®šä¹‰æ ¼å¼
formatDateTime('2025-11-16T13:36:50.000Z', DateFormat.Date)
// => '2025-11-16'

formatDate('2025-11-16T13:36:50.000Z')
// => '2025-11-16'

// ä¸­æ–‡æ ¼å¼
formatDateTime('2025-11-16T13:36:50.000Z', DateFormat.DateTimeCN)
// => '2025å¹´11æœˆ16æ—¥ 21:36:50'
```

**æ—¥æœŸæ ¼å¼æšä¸¾**ï¼š

```
enum DateFormat {
  DateTime = 'YYYY-MM-DD HH:mm:ss', // æ—¥æœŸæ—¶é—´
  Date = 'YYYY-MM-DD', // ä»…æ—¥æœŸ
  Time = 'HH:mm:ss', // ä»…æ—¶é—´
  DateTimeShort = 'YYYY-MM-DD HH:mm', // æ—¥æœŸæ—¶é—´ï¼ˆçŸ­ï¼‰
  DateTimeCN = 'YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss', // ä¸­æ–‡æ—¥æœŸæ—¶é—´
  DateCN = 'YYYYå¹´MMæœˆDDæ—¥' // ä¸­æ–‡æ—¥æœŸ
}
```

**æ³¨æ„äº‹é¡¹**ï¼š

1. **æ—¶åŒºé—®é¢˜**ï¼š
   - æ•°æ®åº“å­˜å‚¨ï¼šæœ¬åœ°æ—¶é—´ï¼ˆåŒ—äº¬æ—¶é—´ GMT+8ï¼‰
   - MySQLè¿”å›ï¼šISO 8601 UTCæ—¶é—´ï¼ˆæ¯”åŒ—äº¬æ—¶é—´æ—©8å°æ—¶ï¼‰
   - å‰ç«¯æ˜¾ç¤ºï¼šè‡ªåŠ¨è½¬æ¢ä¸ºæµè§ˆå™¨æœ¬åœ°æ—¶é—´

2. **ç»Ÿä¸€ä½¿ç”¨**ï¼š
   - æ‰€æœ‰è¡¨æ ¼ä¸­çš„æ—¥æœŸæ—¶é—´å­—æ®µå‡ä½¿ç”¨ `formatDateTime`
   - ä¿è¯é¡¹ç›®ä¸­æ—¥æœŸæ—¶é—´æ˜¾ç¤ºæ ¼å¼çš„ä¸€è‡´æ€§

3. **å·²åº”ç”¨é¡µé¢**ï¼š
   - âœ… ç”¨æˆ·ç®¡ç†ï¼š`src/views/system/user/index.vue`
   - âœ… è§’è‰²ç®¡ç†ï¼š`src/views/system/role/index.vue`

#### å‰ç«¯ â†’ åç«¯ â†’ æ•°æ®åº“

```
// å‰ç«¯ä¸éœ€è¦ä¼ é€’æ—¶é—´å­—æ®µ
// åç«¯è‡ªåŠ¨ä½¿ç”¨ NOW() ç”Ÿæˆå½“å‰æ—¶é—´

// SQLæ’å…¥/æ›´æ–°
created_at = NOW()
updated_at = NOW()
```

---

### 4.2 å‘½åè½¬æ¢è§„åˆ™

#### snake_case â†” camelCase

| æ•°æ®åº“ï¼ˆsnake_caseï¼‰ | åç«¯APIï¼ˆcamelCaseï¼‰ | è¯´æ˜       |
| -------------------- | -------------------- | ---------- |
| user_name            | userName             | ç”¨æˆ·å     |
| real_name            | realName             | çœŸå®å§“å   |
| user_gender          | userGender           | æ€§åˆ«       |
| user_phone           | userPhone            | æ‰‹æœºå·     |
| user_email           | userEmail            | é‚®ç®±       |
| user_roles           | userRoles            | è§’è‰²åˆ—è¡¨   |
| role_name            | roleName             | è§’è‰²åç§°   |
| role_code            | roleCode             | è§’è‰²ç¼–ç    |
| dashboard_path       | dashboardPath        | æ§åˆ¶å°è·¯å¾„ |
| created_at           | createTime           | åˆ›å»ºæ—¶é—´   |
| updated_at           | updateTime           | æ›´æ–°æ—¶é—´   |
| create_by            | createBy             | åˆ›å»ºäºº     |
| update_by            | updateBy             | æ›´æ–°äºº     |

**è½¬æ¢æ–¹å¼**ï¼š

- æ•°æ®åº“â†’åç«¯ï¼šSQLæŸ¥è¯¢æ—¶ä½¿ç”¨ `AS` åˆ«å
- åç«¯â†’æ•°æ®åº“ï¼šæ‰‹åŠ¨æ˜ å°„å­—æ®µå

```
-- ç¤ºä¾‹
SELECT
  user_name as userName,
  created_at as createTime
FROM users
```

---

### 4.3 ç±»å‹è½¬æ¢è§„åˆ™æ±‡æ€»

| å‰ç«¯ç±»å‹          | APIç±»å‹  | æ•°æ®åº“ç±»å‹ | è½¬æ¢æ–¹å‘ | è½¬æ¢è§„åˆ™                       |
| ----------------- | -------- | ---------- | -------- | ------------------------------ |
| string            | string   | VARCHAR    | åŒå‘     | æ— éœ€è½¬æ¢                       |
| number            | number   | INT        | åŒå‘     | æ— éœ€è½¬æ¢                       |
| boolean           | boolean  | TINYINT    | å‰â†’åâ†’åº“ | trueâ†’1, falseâ†’0                |
| boolean           | boolean  | TINYINT    | åº“â†’åâ†’å‰ | 1â†’true, 0â†’false                |
| string("ç”·"/"å¥³") | string   | TINYINT    | å‰â†’åâ†’åº“ | "ç”·"â†’1, "å¥³"â†’2                 |
| string("1"/"2")   | string   | TINYINT    | åº“â†’åâ†’å‰ | 1â†’"1", 2â†’"2"                   |
| string[]          | string[] | INT        | å‰â†’åâ†’åº“ | æŸ¥è¯¢rolesè¡¨ï¼Œrole_codeâ†’role_id |
| string[]          | string   | VARCHAR    | åº“â†’åâ†’å‰ | JOINæŸ¥è¯¢ï¼Œè½¬ä¸ºæ•°ç»„             |
| string            | string   | DATETIME   | åº“â†’åâ†’å‰ | ISO 8601æ ¼å¼                   |
| -                 | -        | DATETIME   | å‰â†’åâ†’åº“ | ä½¿ç”¨NOW()                      |

---

## äº”ã€æ•°æ®åº“è¿ç§»è®°å½•

### 5.1 ç”¨æˆ·è¡¨è¿ç§»

#### è¿ç§»æ—¶é—´

2025-11-16

#### è¿ç§»å†…å®¹

1. **å­—æ®µé‡å‘½å**ï¼š
   - `mobile` â†’ `phone`ï¼ˆå·²å®Œæˆï¼‰
   - `sex` â†’ `gender`ï¼ˆå·²å®Œæˆï¼‰

2. **æ–°å¢å®¡è®¡å­—æ®µ**ï¼š

   ```sql
   ALTER TABLE users
   ADD COLUMN create_by INT COMMENT 'åˆ›å»ºäººID' AFTER status,
   ADD COLUMN update_by INT COMMENT 'æ›´æ–°äººID' AFTER create_by;
   ```

3. **æ•°æ®è¿ç§»**ï¼š

   ```sql
   -- è¿ç§»æ‰‹æœºå·
   UPDATE users SET phone = mobile WHERE mobile IS NOT NULL;

   -- è¿ç§»æ€§åˆ«
   UPDATE users SET gender = sex WHERE sex IS NOT NULL;

   -- åˆ é™¤æ—§å­—æ®µ
   ALTER TABLE users DROP COLUMN mobile, DROP COLUMN sex;
   ```

#### å½±å“èŒƒå›´

- âœ… åç«¯æ§åˆ¶å™¨å·²æ›´æ–°
- âœ… å‰ç«¯ç±»å‹å®šä¹‰å·²æ›´æ–°
- âœ… å‰ç«¯ç»„ä»¶å·²æ›´æ–°

---

### 5.2 è§’è‰²è¡¨è¿ç§»

#### è¿ç§»æ—¶é—´

2025-11-16

#### è¿ç§»å†…å®¹

1. **å­—æ®µé‡å‘½å**ï¼š
   - `status` â†’ `enabled`ï¼ˆå·²å®Œæˆï¼‰

2. **æ•°æ®è¿ç§»è„šæœ¬**ï¼š

   ```sql
   -- æ·»åŠ æ–°å­—æ®µ
   ALTER TABLE roles
   ADD COLUMN enabled TINYINT DEFAULT 1
   COMMENT 'å¯ç”¨çŠ¶æ€ï¼š1-å¯ç”¨ï¼Œ0-ç¦ç”¨'
   AFTER description;

   -- æ•°æ®è¿ç§»
   UPDATE roles SET enabled = status WHERE status IS NOT NULL;

   -- åˆ é™¤æ—§å­—æ®µ
   ALTER TABLE roles DROP COLUMN status;
   ```

3. **è¿ç§»ç»“æœ**ï¼š
   ```
   âœ… æ•°æ®åº“è¿ç§»å®Œæˆï¼
   âœ“ è¿ç§» 3 è¡Œæ•°æ®
   ```

#### å½±å“èŒƒå›´

- âœ… åç«¯æ§åˆ¶å™¨å·²æ›´æ–°ï¼ˆä½¿ç”¨enabledå­—æ®µï¼‰
- âœ… å‰ç«¯ç±»å‹å®šä¹‰å·²æ›´æ–°
- âœ… å‰ç«¯ç»„ä»¶å·²æ›´æ–°

---

## å…­ã€å¿«é€ŸæŸ¥è¯¢ç´¢å¼•

### 6.1 æŒ‰å­—æ®µåæŸ¥æ‰¾

| å­—æ®µå…³é”®è¯ | æ‰€å±æ¨¡å— | æ•°æ®åº“å­—æ®µ | åç«¯å­—æ®µ | å‰ç«¯å­—æ®µ | ç« èŠ‚é“¾æ¥ |
| --- | --- | --- | --- | --- | --- |
| ç”¨æˆ·å | ç”¨æˆ·ç®¡ç† | username | userName | userName | [1.1](#11-ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢) |
| æ‰‹æœºå· | ç”¨æˆ·ç®¡ç† | mobile | userPhone | phone | [1.2](#12-ç”¨æˆ·åˆ›å»º) |
| æ€§åˆ« | ç”¨æˆ·ç®¡ç† | sex | userGender | gender | [1.4](#14-å­—æ®µå€¼è½¬æ¢è§„åˆ™) |
| è§’è‰² | ç”¨æˆ·ç®¡ç† | role_id | userRoles | role | [1.2](#12-ç”¨æˆ·åˆ›å»º) |
| å¯ç”¨çŠ¶æ€ï¼ˆç”¨æˆ·ï¼‰ | ç”¨æˆ·ç®¡ç† | status | status | - | [1.1](#11-ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢) |
| è§’è‰²åç§° | è§’è‰²ç®¡ç† | role_name | roleName | roleName | [2.1](#21-è§’è‰²åˆ—è¡¨æŸ¥è¯¢) |
| è§’è‰²ç¼–ç  | è§’è‰²ç®¡ç† | role_code | roleCode | roleCode | [2.1](#21-è§’è‰²åˆ—è¡¨æŸ¥è¯¢) |
| å¯ç”¨çŠ¶æ€ï¼ˆè§’è‰²ï¼‰ | è§’è‰²ç®¡ç† | enabled | enabled | enabled | [2.4](#24-å­—æ®µå€¼è½¬æ¢è§„åˆ™) |
| æ§åˆ¶å°è·¯å¾„ | è§’è‰²ç®¡ç† | dashboard_path | dashboardPath | dashboardPath | [2.2](#22-è§’è‰²åˆ›å»º) |
| èœå•åç§° | èœå•ç®¡ç† | name | name | name | [3.1](#31-èœå•è¡¨menuså­—æ®µæ˜ å°„) |
| èœå•è·¯å¾„ | èœå•ç®¡ç† | path | path | path | [3.1](#31-èœå•è¡¨menuså­—æ®µæ˜ å°„) |
| èœå•ç±»å‹ | èœå•ç®¡ç† | menu_type | menuType | menuType | [3.1](#31-èœå•è¡¨menuså­—æ®µæ˜ å°„) |
| èœå•æ’åº | èœå•ç®¡ç† | sort | order | order | [3.1](#31-èœå•è¡¨menuså­—æ®µæ˜ å°„) |
| æƒé™æ ‡è¯† | èœå•ç®¡ç† | auth_mark | authMark | authMark | [3.1](#31-èœå•è¡¨menuså­—æ®µæ˜ å°„) |
| åˆ›å»ºæ—¶é—´ | é€šç”¨ | created_at | createTime | createTime | [4.1](#41-æ—¥æœŸæ—¶é—´è½¬æ¢) |
| æ›´æ–°æ—¶é—´ | é€šç”¨ | updated_at | updateTime | updateTime | [4.1](#41-æ—¥æœŸæ—¶é—´è½¬æ¢) |

---

### 6.2 æŒ‰è½¬æ¢ç±»å‹æŸ¥æ‰¾

| è½¬æ¢ç±»å‹              | æ¶‰åŠå­—æ®µ                | æ‰€å±æ¨¡å— | ç« èŠ‚é“¾æ¥                       |
| --------------------- | ----------------------- | -------- | ------------------------------ |
| å­—æ®µåæ˜ å°„            | mobileâ†”phone           | ç”¨æˆ·ç®¡ç† | [1.2](#12-ç”¨æˆ·åˆ›å»º)            |
| å­—æ®µåæ˜ å°„            | sexâ†”gender             | ç”¨æˆ·ç®¡ç† | [1.2](#12-ç”¨æˆ·åˆ›å»º)            |
| å­—æ®µåæ˜ å°„            | statusâ†”enabled         | è§’è‰²ç®¡ç† | [2.1](#21-è§’è‰²åˆ—è¡¨æŸ¥è¯¢)        |
| å­—æ®µåæ˜ å°„            | sortâ†”order             | èœå•ç®¡ç† | [3.1](#31-èœå•è¡¨menuså­—æ®µæ˜ å°„) |
| å­—æ®µåæ˜ å°„            | active_pathâ†”activeMenu | èœå•ç®¡ç† | [3.1](#31-èœå•è¡¨menuså­—æ®µæ˜ å°„) |
| å€¼è½¬æ¢ï¼ˆå­—ç¬¦ä¸²â†’æ•°å­—ï¼‰ | "ç”·"â†’1, "å¥³"â†’2          | ç”¨æˆ·ç®¡ç† | [1.4](#14-å­—æ®µå€¼è½¬æ¢è§„åˆ™)      |
| å€¼è½¬æ¢ï¼ˆå¸ƒå°”â†’æ•°å­—ï¼‰   | trueâ†’1, falseâ†’0         | è§’è‰²ç®¡ç† | [2.4](#24-å­—æ®µå€¼è½¬æ¢è§„åˆ™)      |
| å€¼è½¬æ¢ï¼ˆæ•°å­—â†’å¸ƒå°”ï¼‰   | 1â†’true, 0â†’false         | è§’è‰²ç®¡ç† | [2.4](#24-å­—æ®µê°’è½¬æ¢è§„åˆ™)      |
| å€¼è½¬æ¢ï¼ˆå¸ƒå°”â†’æ•°å­—ï¼‰   | trueâ†’1, falseâ†’0         | èœå•ç®¡ç† | [3.1](#31-èœå•è¡¨menuså­—æ®µæ˜ å°„) |
| ID/Nameè½¬æ¢           | menu_idâ†”menu_name      | èœå•ç®¡ç† | [3.4](#34-idä¸nameè½¬æ¢æœºåˆ¶)    |
| è™šæ‹ŸèŠ‚ç‚¹è¿‡æ»¤          | authListè™šæ‹ŸèŠ‚ç‚¹        | èœå•ç®¡ç† | [3.5](#35-è™šæ‹ŸèŠ‚ç‚¹å¤„ç†è§„åˆ™)    |
| å…³è”æŸ¥è¯¢è½¬æ¢          | role_codeâ†’role_id       | ç”¨æˆ·ç®¡ç† | [1.4](#14-å­—æ®µå€¼è½¬æ¢è§„åˆ™)      |
| æ•°ç»„è½¬æ¢              | stringâ†’string[]         | ç”¨æˆ·ç®¡ç† | [1.1](#11-ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢)        |
| æ—¥æœŸæ—¶é—´è½¬æ¢          | DATETIMEâ†’string         | é€šç”¨     | [4.1](#41-æ—¥æœŸæ—¶é—´è½¬æ¢)        |
| è‡ªåŠ¨å¡«å……              | JWTâ†’create_by/update_by | ç”¨æˆ·ç®¡ç† | [1.4](#14-å­—æ®µå€¼è½¬æ¢è§„åˆ™)      |

---

## ğŸ“Œ ç»´æŠ¤è¯´æ˜

### æ›´æ–°è§„åˆ™

å½“æ–°å¢æˆ–ä¿®æ”¹å­—æ®µæ˜ å°„æ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ›´æ–°æœ¬æ–‡æ¡£ï¼š

1. **æ–°å¢æ¨¡å—**ï¼šåœ¨æ–‡æ¡£æœ«å°¾æ·»åŠ æ–°ç« èŠ‚ï¼Œéµå¾ªç°æœ‰ç»“æ„
2. **ä¿®æ”¹æ˜ å°„**ï¼šæ›´æ–°å¯¹åº”çš„æ˜ å°„è¡¨ï¼Œå¹¶åœ¨æ•°æ®åº“è¿ç§»è®°å½•ä¸­æ·»åŠ è¯´æ˜
3. **æ–°å¢è½¬æ¢è§„åˆ™**ï¼šåœ¨é€šç”¨è½¬æ¢è§„åˆ™ä¸­è¡¥å……æ–°çš„è½¬æ¢ç±»å‹
4. **æ›´æ–°ç´¢å¼•**ï¼šåœ¨å¿«é€ŸæŸ¥è¯¢ç´¢å¼•ä¸­æ·»åŠ æ–°å­—æ®µçš„ç´¢å¼•é¡¹

### æ–‡æ¡£ç‰ˆæœ¬ç®¡ç†

- æ¯æ¬¡é‡å¤§æ›´æ–°æ—¶ï¼Œæ›´æ–°æ–‡æ¡£ç‰ˆæœ¬å·
- åœ¨æ•°æ®åº“è¿ç§»è®°å½•ä¸­è®°å½•è¿ç§»æ—¶é—´å’Œå†…å®¹
- ä¿ç•™å†å²è¿ç§»è®°å½•ï¼Œä¾¿äºé—®é¢˜è¿½æº¯

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰ç–‘é—®æˆ–å»ºè®®ï¼Œè¯·è”ç³»ï¼š

- **æ–‡æ¡£ç»´æŠ¤è€…**ï¼šå¼€å‘å›¢é˜Ÿ
- **æœ€åæ›´æ–°æ—¶é—´**ï¼š2024-11-17

---

**æ–‡æ¡£ç»“æŸ**
